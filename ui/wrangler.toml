name = "ethicsengine-admin"
main = ".open-next/worker.js"

compatibility_date = "2025-04-01"
compatibility_flags = ["nodejs_compat", "nodejs_compat_populate_process_env"]

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

[build]
command = "npm run build:cf"

# Non-secret env vars
[vars]
AUTH_URL = "https://admin.ethicsengine.org"
NEXTAUTH_URL = "https://admin.ethicsengine.org"
AUTH_TRUST_HOST = "true"
GOOGLE_CLIENT_ID = "1003497422667-nk3s1jki6clshnvfil4r575cdlr7rnte.apps.googleusercontent.com"
NEXT_PUBLIC_API_URL = "https://ethicsengine.ciris.ai"
ALLOWED_EMAIL_DOMAIN = "ciris.ai"

# Secrets â€” set via Cloudflare dashboard or wrangler CLI:
#   npx wrangler secret put NEXTAUTH_SECRET
#   npx wrangler secret put GOOGLE_CLIENT_SECRET
